<html>
<head>
  <meta charset='utf-8' />
  <title>indian-ocean 2.0.0</title>
  <link href='assets/bass.css' type='text/css' rel='stylesheet' />
  <link href='assets/style.css' type='text/css' rel='stylesheet' />
  <link href='assets/github.css' type='text/css' rel='stylesheet' />
</head>
<body class='documentation'>
  <a href="https://github.com/mhkeller/indian-ocean"><img style="position: fixed; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"></a>
  <div class='px2'>
    <div class='clearfix flex flex-stretch mxn2'>
      <div class='documentation-sidebar relative top-0 bottom-0 right-0 px2 py2 col-3 sm-show'>
        <div class='font-smaller fixed col-3 top-0 bottom-0 left-0 overflow-auto black bg-cloudy'>
          <a href='https://github.com/mhkeller/indian-ocean/' class='h5 button block button-transparent'>indian-ocean 2.0.0</a>
          <div class='px2'>
              <a
                href='#converters'
                class='regular block'>
                <code>converters</code>
              </a>
                <a
                  href='#converters/convertdbftodata'
                  class='px1 regular block'>
                  <code>.convertDbfToData</code>
                </a>
              <a
                href='#helpers'
                class='regular block'>
                <code>helpers</code>
              </a>
                <a
                  href='#helpers/deepextend'
                  class='px1 regular block'>
                  <code>.deepExtend</code>
                </a>
                <a
                  href='#helpers/discernfileformatter'
                  class='px1 regular block'>
                  <code>.discernFileFormatter</code>
                </a>
                <a
                  href='#helpers/discernformat'
                  class='px1 regular block'>
                  <code>.discernFormat</code>
                </a>
                <a
                  href='#helpers/discernparser'
                  class='px1 regular block'>
                  <code>.discernParser</code>
                </a>
                <a
                  href='#helpers/exists'
                  class='px1 regular block'>
                  <code>.exists</code>
                </a>
                <a
                  href='#helpers/existssync'
                  class='px1 regular block'>
                  <code>.existsSync</code>
                </a>
                <a
                  href='#helpers/extend'
                  class='px1 regular block'>
                  <code>.extend</code>
                </a>
                <a
                  href='#helpers/extmatchesstr'
                  class='px1 regular block'>
                  <code>.extMatchesStr</code>
                </a>
                <a
                  href='#helpers/makedirectories'
                  class='px1 regular block'>
                  <code>.makeDirectories</code>
                </a>
                <a
                  href='#helpers/makedirectoriessync'
                  class='px1 regular block'>
                  <code>.makeDirectoriesSync</code>
                </a>
                <a
                  href='#helpers/matches'
                  class='px1 regular block'>
                  <code>.matches</code>
                </a>
                <a
                  href='#helpers/matchesregexp'
                  class='px1 regular block'>
                  <code>.matchesRegExp</code>
                </a>
              <a
                href='#readers'
                class='regular block'>
                <code>readers</code>
              </a>
                <a
                  href='#readers/readdata'
                  class='px1 regular block'>
                  <code>.readData</code>
                </a>
                <a
                  href='#readers/readdatasync'
                  class='px1 regular block'>
                  <code>.readDataSync</code>
                </a>
                <a
                  href='#readers/readdbf'
                  class='px1 regular block'>
                  <code>.readDbf</code>
                </a>
                <a
                  href='#readers/readdirfilter'
                  class='px1 regular block'>
                  <code>.readdirFilter</code>
                </a>
                <a
                  href='#readers/readdirfiltersync'
                  class='px1 regular block'>
                  <code>.readdirFilterSync</code>
                </a>
              <a
                href='#shorthandreaders'
                class='regular block'>
                <code>shorthandReaders</code>
              </a>
                <a
                  href='#shorthandreaders/readaml'
                  class='px1 regular block'>
                  <code>.readAml</code>
                </a>
                <a
                  href='#shorthandreaders/readamlsync'
                  class='px1 regular block'>
                  <code>.readAmlSync</code>
                </a>
                <a
                  href='#shorthandreaders/readcsv'
                  class='px1 regular block'>
                  <code>.readCsv</code>
                </a>
                <a
                  href='#shorthandreaders/readcsvsync'
                  class='px1 regular block'>
                  <code>.readCsvSync</code>
                </a>
                <a
                  href='#shorthandreaders/readjson'
                  class='px1 regular block'>
                  <code>.readJson</code>
                </a>
                <a
                  href='#shorthandreaders/readjsonsync'
                  class='px1 regular block'>
                  <code>.readJsonSync</code>
                </a>
                <a
                  href='#shorthandreaders/readpsv'
                  class='px1 regular block'>
                  <code>.readPsv</code>
                </a>
                <a
                  href='#shorthandreaders/readpsvsync'
                  class='px1 regular block'>
                  <code>.readPsvSync</code>
                </a>
                <a
                  href='#shorthandreaders/readtsv'
                  class='px1 regular block'>
                  <code>.readTsv</code>
                </a>
                <a
                  href='#shorthandreaders/readtsvsync'
                  class='px1 regular block'>
                  <code>.readTsvSync</code>
                </a>
                <a
                  href='#shorthandreaders/readtxt'
                  class='px1 regular block'>
                  <code>.readTxt</code>
                </a>
                <a
                  href='#shorthandreaders/readtxtsync'
                  class='px1 regular block'>
                  <code>.readTxtSync</code>
                </a>
                <a
                  href='#shorthandreaders/readyaml'
                  class='px1 regular block'>
                  <code>.readYaml</code>
                </a>
                <a
                  href='#shorthandreaders/readyamlsync'
                  class='px1 regular block'>
                  <code>.readYamlSync</code>
                </a>
              <a
                href='#writers'
                class='regular block'>
                <code>writers</code>
              </a>
                <a
                  href='#writers/appenddata'
                  class='px1 regular block'>
                  <code>.appendData</code>
                </a>
                <a
                  href='#writers/appenddatasync'
                  class='px1 regular block'>
                  <code>.appendDataSync</code>
                </a>
                <a
                  href='#writers/writedata'
                  class='px1 regular block'>
                  <code>.writeData</code>
                </a>
                <a
                  href='#writers/writedatasync'
                  class='px1 regular block'>
                  <code>.writeDataSync</code>
                </a>
          </div>
        </div>
      </div>
      <div class='sm-col  lg-col-9  flex flex-column'>
        <div class='flex-auto full-width'>
          <div class='px1'>
            <section id="introduction" class="mb4 px2">
              <h1><a href="https://github.com/mhkeller/indian-ocean">indian-ocean</a></h1>
              <p>
                <a href="http://travis-ci.org/mhkeller/indian-ocean" target="_blank"><img alt="Build Status" src="https://secure.travis-ci.org/mhkeller/indian-ocean.png?branch=master&style=flat-square"></a>

                <a href="http://badge.fury.io/js/indian-ocean" target="_blank"><img alt="NPM version" src="https://badge.fury.io/js/indian-ocean.png?style=flat"></a>

                <a href="https://www.npmjs.com/package/indian-ocean" target="_blank"><img alt="NPM downloads" src="https://img.shields.io/npm/dm/indian-ocean.svg"></a>

                <a href="https://github.com/feross/standard" target="_blank"><img alt="js-standard-style" src="https://img.shields.io/badge/code%20style-standard-brightgreen.svg?style=flat"></a>                
              </p>
              <h3 class="sub-hed">A NodeJS library for reading and writing data plus some handy file system utilities. Supports csv, tsv, json, yaml, dbf as well as custom formats and delimeters. 300+ tests on Node versions 0.11 through 6.9.1.</h3>
              <pre>npm install --save indian-ocean</pre>
              <p><strong>Example:</strong></p>
              <pre>
var io = require(<span class="hljs-string">'indian-ocean'</span>)

var json_data = io.readDataSync('<span class="hljs-string">path/to/data.csv'</span>)

<span class="hljs-built_in">console</span>.log(json_data)

<span class="hljs-comment">/*</span>
<span class="hljs-comment">[</span>
<span class="hljs-comment">  {</span>
<span class="hljs-comment">    "name": "Gerald",</span>
<span class="hljs-comment">    "occupation": "Teacher",</span>
<span class="hljs-comment">    "city": "Philadelphia"</span>
<span class="hljs-comment">  },</span>
<span class="hljs-comment">  {</span>
<span class="hljs-comment">    "name": "Marcy",</span>
<span class="hljs-comment">    "occupation": "Venture Capitalist",</span>
<span class="hljs-comment">    "city": "New York"</span>
<span class="hljs-comment">  }</span>
<span class="hljs-comment">]</span>
<span class="hljs-comment">*/</span>

io.writeDataSync(<span class="hljs-string">'path/to/save/output.json'</span>, json_data, {indent: 2})
              </pre>
            </section>
          </div>
          <div class='px1'>
          <h2 class="px2">API Documentation</h2>
<section id='converters'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L1783-L1803'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#converters'>
      <code>
        converters<span class='gray'></span>
      </code>
    </a>
  </h3>
  <p>Functions that both read and write.</p>







      <div class='section-indent'>
<section id='converters/convertdbftodata'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L1803-L1816'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#converters/convertdbftodata'>
      <code>
        convertDbfToData<span class='gray'>(inFileName, outFileName, [options], callback)</span>
      </code>
    </a>
  </h3>
  <p>Reads in a dbf file with <code>.readDbf</code> and write to file using <code>.writeData</code>. A convenience function for converting DBFs to more useable formats. Formerly known as <code>writeDbfToData</code> and is aliased for legacy support.</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>inFileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the input file name</p>
</td>
          </tr>
          <tr>
            <td>outFileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the output file name</p>
</td>
          </tr>
          <tr>
            <td>options</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>]</code>
            </td>
            <td><p>Optional config object, see below</p>
</td>
          </tr>
            <tr>
              <td>options.makeDirectories</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></code>]</code>
                (default <code>false</code>)
              </td>
              <td><p>If true, create intermediate directories to your data file.</p>
</td>
            </tr>
          <tr>
            <td>callback</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>
            </td>
            <td><p>callback that takes error (if any)</p>
</td>
          </tr>
      </table>
    </p>




    <h4>Examples</h4>
<pre>io.convertDbfToData(<span class="hljs-string">'path/to/data.dbf'</span>, <span class="hljs-string">'path/to/data.csv'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>{
  <span class="hljs-built_in">console</span>.log(err)
})

io.convertDbfToData(<span class="hljs-string">'path/to/data.dbf'</span>, <span class="hljs-string">'path/to/create/to/data.csv'</span>, {makeDirectories: <span class="hljs-literal">true</span>}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>{
  <span class="hljs-built_in">console</span>.log(err)
})</pre>




</section>
      </div>



</section>
<section id='helpers'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L150-L161'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#helpers'>
      <code>
        helpers<span class='gray'></span>
      </code>
    </a>
  </h3>
  <p>Various utility functions.</p>







      <div class='section-indent'>
<section id='helpers/deepextend'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L510-L517'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#helpers/deepextend'>
      <code>
        deepExtend<span class='gray'>(destination, source, [source2])</span>
      </code>
    </a>
  </h3>
  <p>A more semantic convenience function. Delegates to <a href="helpers-extend"><code>helpers#extend</code></a> and passes <code>true</code> as the first argument. Recursively merge the contents of two or more objects together into the first object.</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>destination</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>
            </td>
            <td><p>The object to modify</p>
</td>
          </tr>
          <tr>
            <td>source</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>
            </td>
            <td><p>The object whose contents to take</p>
</td>
          </tr>
          <tr>
            <td>source2</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>]</code>
            </td>
            <td><p>Optional, You can add any number of objects as arguments.</p>
</td>
          </tr>
      </table>
    </p>


      <h4>Returns</h4>
      <code><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code></code>
      :
      <span class='force-inline'>
        <p>result The merged object. Note that the <code>destination</code> object will always be modified.</p>

      </span>


    <h4>Examples</h4>
<pre><span class="hljs-keyword">var</span> object1 = {
  apple: <span class="hljs-number">0</span>,
  banana: { weight: <span class="hljs-number">52</span>, price: <span class="hljs-number">100</span> },
  cherry: <span class="hljs-number">97</span>
}
<span class="hljs-keyword">var</span> object2 = {
  banana: { price: <span class="hljs-number">200</span> },
  almond: <span class="hljs-number">100</span>
}
io.deepExtend(object1, object2)
<span class="hljs-built_in">console</span>.log(object1)
<span class="hljs-comment">//  {</span>
<span class="hljs-comment">//   apple: 0,</span>
<span class="hljs-comment">//   banana: {</span>
<span class="hljs-comment">//     weight: 52,</span>
<span class="hljs-comment">//     price: 200</span>
<span class="hljs-comment">//   },</span>
<span class="hljs-comment">//   cherry: 97,</span>
<span class="hljs-comment">//   almond: 100</span>
<span class="hljs-comment">// }</span></pre>




</section>
      </div>
      <div class='section-indent'>
<section id='helpers/discernfileformatter'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L216-L237'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#helpers/discernfileformatter'>
      <code>
        discernFileFormatter<span class='gray'>(fileName)</span>
      </code>
    </a>
  </h3>
  <p>Returns a formatter that will format json data to file type specified by the extension in <code>fileName</code>. Used internally by <code>.writeData</code> and <code>.writeDataSync</code>.</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file</p>
</td>
          </tr>
      </table>
    </p>


      <h4>Returns</h4>
      <code><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code></code>
      :
      <span class='force-inline'>
        <p>a formatter that can write the file</p>

      </span>


    <h4>Examples</h4>
<pre><span class="hljs-keyword">var</span> formatter = io.discernFileFormatter(<span class="hljs-string">'path/to/data.tsv'</span>)
<span class="hljs-keyword">var</span> csv = formatter(json)</pre>




</section>
      </div>
      <div class='section-indent'>
<section id='helpers/discernformat'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L161-L182'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#helpers/discernformat'>
      <code>
        discernFormat<span class='gray'>(fileName)</span>
      </code>
    </a>
  </h3>
  <p>Given a <code>fileName</code> return its file extension. Used internally by <code>.discernPaser</code> and <code>.discernFileFormatter</code>.</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file</p>
</td>
          </tr>
      </table>
    </p>


      <h4>Returns</h4>
      <code><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code></code>
      :
      <span class='force-inline'>
        <p>the file's extension</p>

      </span>


    <h4>Examples</h4>
<pre><span class="hljs-keyword">var</span> format = io.discernFormat(<span class="hljs-string">'path/to/data.csv'</span>)
<span class="hljs-built_in">console</span>.log(format) <span class="hljs-comment">// 'csv'</span></pre>




</section>
      </div>
      <div class='section-indent'>
<section id='helpers/discernparser'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L182-L197'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#helpers/discernparser'>
      <code>
        discernParser<span class='gray'>(fileName, delimiter)</span>
      </code>
    </a>
  </h3>
  <p>Given a <code>fileName</code> return a parser that can read that file as json. Parses as text if format not supported by a built-in parser. If given a delimter string as the second argument, return a parser for that delimiter regardless of <code>fileName</code>. Used internally by <code>.readData</code> and <code>.readDataSync</code>.</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file</p>
</td>
          </tr>
          <tr>
            <td>delimiter</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>Alternative usage is to pass a delimiter string. Delegates to <code>dsv.dsvFormat</code>.</p>
</td>
          </tr>
      </table>
    </p>


      <h4>Returns</h4>
      <code><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code></code>
      :
      <span class='force-inline'>
        <p>a parser that can read the file</p>

      </span>


    <h4>Examples</h4>
<pre><span class="hljs-keyword">var</span> parser = io.discernParser(<span class="hljs-string">'path/to/data.csv'</span>)
<span class="hljs-keyword">var</span> json = parser(<span class="hljs-string">'path/to/data.csv'</span>)

<span class="hljs-keyword">var</span> parser = io.discernParser(<span class="hljs-literal">null</span>, <span class="hljs-string">'_'</span>)
<span class="hljs-keyword">var</span> json = parser(<span class="hljs-string">'path/to/data.usv'</span>)</pre>




</section>
      </div>
      <div class='section-indent'>
<section id='helpers/exists'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L237-L260'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#helpers/exists'>
      <code>
        exists<span class='gray'>(fileName, callback)</span>
      </code>
    </a>
  </h3>
  <p>Asynchronously test whether a file exists or not by using <code>fs.access</code> modified from https://github.com/nodejs/io.js/issues/1592#issuecomment-98392899.</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file</p>
</td>
          </tr>
          <tr>
            <td>callback</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>
            </td>
            <td><p>has the signature <code>(err, exists)</code></p>
</td>
          </tr>
      </table>
    </p>




    <h4>Examples</h4>
<pre><span class="hljs-keyword">var</span> exists = io.exists(<span class="hljs-string">'path/to/data.tsv'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, exists</span>) </span>{
  <span class="hljs-built_in">console</span>.log(exists) <span class="hljs-comment">// `true` if the file exists, `false` if not.</span>
})</pre>




</section>
      </div>
      <div class='section-indent'>
<section id='helpers/existssync'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L260-L281'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#helpers/existssync'>
      <code>
        existsSync<span class='gray'>(fileName)</span>
      </code>
    </a>
  </h3>
  <p>Syncronous version of <a href="helpers-exists"><code>helpers#exists</code></a></p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file</p>
</td>
          </tr>
      </table>
    </p>


      <h4>Returns</h4>
      <code><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></code></code>
      :
      <span class='force-inline'>
        <p>whether the file exists or not</p>

      </span>


    <h4>Examples</h4>
<pre><span class="hljs-keyword">var</span> exists = io.existsSync(<span class="hljs-string">'path/to/data.tsv'</span>)
<span class="hljs-built_in">console</span>.log(exists) <span class="hljs-comment">// `true` if file exists, `false` if not.</span></pre>




</section>
      </div>
      <div class='section-indent'>
<section id='helpers/extend'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L409-L510'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#helpers/extend'>
      <code>
        extend<span class='gray'>([deepExtend], destination, source, [source2])</span>
      </code>
    </a>
  </h3>
  <p>A port of jQuery's extend. Merge the contents of two or more objects together into the first object. Supports deep extending with <code>true</code> as the first argument.</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>deepExtend</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></code>]</code>
            </td>
            <td><p>Optional, set to <code>true</code> to merge recursively.</p>
</td>
          </tr>
          <tr>
            <td>destination</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>
            </td>
            <td><p>The object to modify</p>
</td>
          </tr>
          <tr>
            <td>source</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>
            </td>
            <td><p>The object whose contents to take</p>
</td>
          </tr>
          <tr>
            <td>source2</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>]</code>
            </td>
            <td><p>Optional, You can add any number of objects as arguments.</p>
</td>
          </tr>
      </table>
    </p>


      <h4>Returns</h4>
      <code><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code></code>
      :
      <span class='force-inline'>
        <p>result The merged object. Note that the <code>destination</code> object will always be modified.</p>

      </span>


    <h4>Examples</h4>
<pre><span class="hljs-keyword">var</span> mergedObj = io.extend({}, {name: <span class="hljs-string">'indian-ocean'</span>}, {alias: <span class="hljs-string">'io'</span>})
<span class="hljs-built_in">console</span>.log(mergedObj)
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   name: 'indian-ocean',</span>
<span class="hljs-comment">//   alias: 'io'</span>
<span class="hljs-comment">// }</span>

<span class="hljs-keyword">var</span> name = {name: <span class="hljs-string">'indian-ocean'</span>}
io.extend(name, {alias: <span class="hljs-string">'io'</span>})
<span class="hljs-built_in">console</span>.log(name)
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   name: 'indian-ocean',</span>
<span class="hljs-comment">//   alias: 'io'</span>
<span class="hljs-comment">// }</span></pre><pre><span class="hljs-keyword">var</span> object1 = {
  apple: <span class="hljs-number">0</span>,
  banana: { weight: <span class="hljs-number">52</span>, price: <span class="hljs-number">100</span> },
  cherry: <span class="hljs-number">97</span>
}
<span class="hljs-keyword">var</span> object2 = {
  banana: { price: <span class="hljs-number">200</span> },
  almond: <span class="hljs-number">100</span>
}
io.extend(<span class="hljs-literal">true</span>, object1, object2)
<span class="hljs-built_in">console</span>.log(object1)
<span class="hljs-comment">//  {</span>
<span class="hljs-comment">//   apple: 0,</span>
<span class="hljs-comment">//   banana: {</span>
<span class="hljs-comment">//     weight: 52,</span>
<span class="hljs-comment">//     price: 200</span>
<span class="hljs-comment">//   },</span>
<span class="hljs-comment">//   cherry: 97,</span>
<span class="hljs-comment">//   almond: 100</span>
<span class="hljs-comment">// }</span></pre>




</section>
      </div>
      <div class='section-indent'>
<section id='helpers/extmatchesstr'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L311-L331'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#helpers/extmatchesstr'>
      <code>
        extMatchesStr<span class='gray'>(fileName, extension)</span>
      </code>
    </a>
  </h3>
  <p>Test whether a file name has the given extension</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>The name of the file.</p>
</td>
          </tr>
          <tr>
            <td>extension</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>The extension to test. An empty string will match a file with no extension.</p>
</td>
          </tr>
      </table>
    </p>


      <h4>Returns</h4>
      <code><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></code></code>
      :
      <span class='force-inline'>
        <p>whether The extension matched or not.</p>

      </span>


    <h4>Examples</h4>
<pre><span class="hljs-keyword">var</span> matches = io.extMatchesStr(<span class="hljs-string">'path/to/data.tsv'</span>, <span class="hljs-string">'tsv'</span>)
<span class="hljs-built_in">console</span>.log(matches) <span class="hljs-comment">// `true`</span></pre>




</section>
      </div>
      <div class='section-indent'>
<section id='helpers/makedirectories'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L281-L296'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#helpers/makedirectories'>
      <code>
        makeDirectories<span class='gray'>(outPath, callback)</span>
      </code>
    </a>
  </h3>
  <p>Asynchronously Create directories in a given file path</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>outPath</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>The path to a file</p>
</td>
          </tr>
          <tr>
            <td>callback</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>
            </td>
            <td><p>The function to do once this is done. Has signature of <code>(err)</code></p>
</td>
          </tr>
      </table>
    </p>




    <h4>Examples</h4>
<pre>io.makeDirectories(<span class="hljs-string">'path/to/create/to/data.tsv'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>{
  <span class="hljs-built_in">console</span>.log(err) <span class="hljs-comment">// null</span>
})</pre>




</section>
      </div>
      <div class='section-indent'>
<section id='helpers/makedirectoriessync'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L296-L311'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#helpers/makedirectoriessync'>
      <code>
        makeDirectoriesSync<span class='gray'>(outPath)</span>
      </code>
    </a>
  </h3>
  <p>Synchronous version of <code>makeDirectories</code></p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>outPath</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>The path to a file</p>
</td>
          </tr>
      </table>
    </p>




    <h4>Examples</h4>
<pre>io.makeDirectories(<span class="hljs-string">'path/to/create/to/data.tsv'</span>)</pre>




</section>
      </div>
      <div class='section-indent'>
<section id='helpers/matches'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L351-L409'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#helpers/matches'>
      <code>
        matches<span class='gray'>(fileName)</span>
      </code>
    </a>
  </h3>
  <p>Test whether a file name or path matches a given matcher. Delegates to <a href="helpers-extmatches"><code>helpers#extMatches</code></a> if <code>matcher</code> is a string<code>and tests only against the file name extension. Delegates to [</code>helpers#extMatchRegEx`](helpers-extmatchregex) if matcher is a Regular Expression and tests against entire string, which is usefulf or testing the full file path.</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>The name of the file or path to the file.</p>
</td>
          </tr>
      </table>
    </p>


      <h4>Returns</h4>
      <code><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code></code>
      :
      <span class='force-inline'>
        <p>matcher The string to match with.</p>

      </span>


    <h4>Examples</h4>
<pre><span class="hljs-keyword">var</span> matches = io.matches(<span class="hljs-string">'path/to/data.tsv'</span>, <span class="hljs-string">'tsv'</span>)
<span class="hljs-built_in">console</span>.log(matches) <span class="hljs-comment">// `true`</span>

<span class="hljs-keyword">var</span> matches = io.matches(<span class="hljs-string">'.gitignore'</span>, <span class="hljs-regexp">/\.gitignore/</span>)
<span class="hljs-built_in">console</span>.log(matches) <span class="hljs-comment">// `true`</span>

<span class="hljs-keyword">var</span> matches = io.matches(<span class="hljs-string">'file/with/no-extention'</span>, <span class="hljs-string">''</span>) <span class="hljs-comment">// Nb. Dot files are treated as files with no extention</span>
<span class="hljs-built_in">console</span>.log(matches) <span class="hljs-comment">// `true`</span></pre>




</section>
      </div>
      <div class='section-indent'>
<section id='helpers/matchesregexp'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L331-L351'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#helpers/matchesregexp'>
      <code>
        matchesRegExp<span class='gray'>(fileName, RegEx)</span>
      </code>
    </a>
  </h3>
  <p>Test whether a string matches a given Regular Expression.</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>The name of the file or file path.</p>
</td>
          </tr>
          <tr>
            <td>RegEx</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp">RegExp</a></code>
            </td>
            <td><p>The RegEx to match with.</p>
</td>
          </tr>
      </table>
    </p>


      <h4>Returns</h4>
      <code><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></code></code>
      :
      <span class='force-inline'>
        <p>whether The string matches the RegEx.</p>

      </span>


    <h4>Examples</h4>
<pre><span class="hljs-keyword">var</span> matches = io.matchesRegExp(<span class="hljs-string">'.gitignore'</span>, <span class="hljs-regexp">/\.gitignore/</span>)
<span class="hljs-built_in">console</span>.log(matches) <span class="hljs-comment">// `true`</span>

<span class="hljs-keyword">var</span> matches = io.matchesRegExp(<span class="hljs-string">'data/final-data/basic.csv'</span>, <span class="hljs-regexp">/\/final-data\//</span>)
<span class="hljs-built_in">console</span>.log(matches) <span class="hljs-comment">// `true`</span></pre>




</section>
      </div>



</section>
<section id='readers'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L530-L607'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#readers'>
      <code>
        readers<span class='gray'></span>
      </code>
    </a>
  </h3>
  <p>Functions to read data files.</p>







      <div class='section-indent'>
<section id='readers/readdata'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L607-L716'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#readers/readdata'>
      <code>
        readData<span class='gray'>(fileName, [parserOptions], callback)</span>
      </code>
    </a>
  </h3>
  <p>Asynchronously read data given a path ending in the file format.</p>
<p>Supported formats / extensions:</p>
<ul>
<li><code>.json</code> Array of objects</li>
<li><code>.csv</code> Comma-separated</li>
<li><code>.tsv</code> Tab-separated</li>
<li><code>.psv</code> Pipe-separated</li>
<li><code>.yaml</code> or <code>.yml</code> Yaml file</li>
<li><code>.aml</code> ArchieML</li>
<li><code>.txt</code> Text file (a string)</li>
<li>other All others are read as a text file</li>
</ul>
<p><em>Note: Does not currently support <code>.dbf</code> files. <code>.yaml</code> and <code>.yml</code> formats are read with js-yaml's <code>.load</code> method, which has no security checking. See js-yaml library for more secure options.</em></p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file</p>
</td>
          </tr>
          <tr>
            <td>parserOptions</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>]</code>
            </td>
            <td><p>Optional. Set this as a function as a shorthand for <code>map</code>.</p>
</td>
          </tr>
            <tr>
              <td>parserOptions.parser</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>]</code>
              </td>
              <td><p>optional This can be a string that is the file's delimiter or a function that returns the json. See <code>parsers</code> in library source for examples. For convenience, this can also take a dsv object such as <code>dsv.dsv('_')</code> or any object that has a <code>parse</code> method.</p>
</td>
            </tr>
            <tr>
              <td>parserOptions.map</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>]</code>
              </td>
              <td><p>Transformation function. Takes <code>(fileString, parserOptions)</code> where <code>parserOptions</code> is the hash you pass in minus the <code>parser</code> key. See <a href="shorthandreaders"><code>shorthandReaders</code></a> for specifics.</p>
</td>
            </tr>
            <tr>
              <td>parserOptions.nativeParser</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></code>]</code>
              </td>
              <td><p>Used in <a href="shorthandreaders-readjson"><code>shorthandReaders.readJson</code></a> for now. Otherwise ignored.</p>
</td>
            </tr>
            <tr>
              <td>parserOptions.comments</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>]</code>
              </td>
              <td><p>Used in <a href="shorthandreaders-readaml"><code>shorthandReaders.readAml</code></a>. Otherwise ignored.</p>
</td>
            </tr>
            <tr>
              <td>parserOptions.reviver</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>]</code>
              </td>
              <td><p>Used in <a href="shorthandreaders-readjson"><code>shorthandReaders.readJson</code></a>. Otherwise ignored.</p>
</td>
            </tr>
            <tr>
              <td>parserOptions.filename</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>]</code>
              </td>
              <td><p>Used in <a href="shorthandreaders-readjson"><code>shorthandReaders.readJson</code></a>. Otherwise ignored.</p>
</td>
            </tr>
          <tr>
            <td>callback</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>
            </td>
            <td><p>callback used when read data is read, takes error (if any) and the data read</p>
</td>
          </tr>
      </table>
    </p>




    <h4>Examples</h4>
<pre>io.readData(<span class="hljs-string">'path/to/data.tsv'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data</span>
})

<span class="hljs-comment">// Parser specified as a string</span>
io.readData(<span class="hljs-string">'path/to/data.usv'</span>, {parser: <span class="hljs-string">'_'</span>}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data</span>
})

<span class="hljs-comment">// Parser specified as a function</span>
<span class="hljs-keyword">var</span> myParser = dsv.dsv(<span class="hljs-string">'_'</span>).parse
<span class="hljs-comment">// var myParser = dsv.dsv('_') // This also works</span>
io.readData(<span class="hljs-string">'path/to/data.usv'</span>, {parser: myParser}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data</span>
})

<span class="hljs-comment">// Parser specified with an object that has a `parse` function</span>
<span class="hljs-keyword">var</span> naiveJsonLines = {
  parse: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">dataAsString</span>) </span>{
    <span class="hljs-keyword">return</span> dataAsString.split(<span class="hljs-string">'\n'</span>).map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">row</span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-built_in">JSON</span>.parse(row) })
  }
}
io.readData(<span class="hljs-string">'path/to/data.jsonlines'</span>, {parser: naiveJsonLines}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data</span>
})

<span class="hljs-comment">// Shorthand for specifying a map function</span>
io.readData(<span class="hljs-string">'path/to/data.csv'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">row, i, columns</span>) </span>{
  <span class="hljs-built_in">console</span>.log(columns) <span class="hljs-comment">// [ 'name', 'occupation', 'height' ]</span>
  row.height = +row.height <span class="hljs-comment">// Convert this value to a number</span>
  <span class="hljs-keyword">return</span> row
}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data</span>
})

<span class="hljs-comment">// Explicitly specify a map function and a filename for a json file. See `readJson` for more details</span>
io.readData(<span class="hljs-string">'path/to/data.json'</span>, {
  map: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">k, v</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> v === <span class="hljs-string">'number'</span>) {
      <span class="hljs-keyword">return</span> v * <span class="hljs-number">2</span>
    }
    <span class="hljs-keyword">return</span> v
  },
  filename: <span class="hljs-string">'awesome-data.json'</span>
}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data with any number values multiplied by two and errors reported with `fileName`</span>
})</pre>




</section>
      </div>
      <div class='section-indent'>
<section id='readers/readdatasync'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L716-L791'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#readers/readdatasync'>
      <code>
        readDataSync<span class='gray'>(fileName, [options])</span>
      </code>
    </a>
  </h3>
  <p>Syncronous version of <a href="readers-readdata"><code>readers#readData</code></a></p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file</p>
</td>
          </tr>
          <tr>
            <td>options</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>]</code>
            </td>
            <td><p>Optional. Set this as a function as a shorthand for <code>map</code>.</p>
</td>
          </tr>
            <tr>
              <td>options.parser</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>]</code>
              </td>
              <td><p>optional This can be a string that is the file's delimiter or a function that returns the json. See <code>parsers</code> in library source for examples. For convenience, this can also take a dsv object such as <code>dsv.dsv('_')</code> or any object that has a <code>parse</code> method.</p>
</td>
            </tr>
            <tr>
              <td>options.map</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>]</code>
              </td>
              <td><p>Transformation function. Takes <code>(fileString, options)</code> where <code>options</code> is the hash you pass in minus the <code>parser</code> key. See <a href="shorthandreaders"><code>shorthandReaders</code></a> for specifics.</p>
</td>
            </tr>
            <tr>
              <td>options.reviver</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>]</code>
              </td>
              <td><p>Used in <a href="shorthandreaders-readjson"><code>shorthandReaders.readJson</code></a>. Otherwise ignored.</p>
</td>
            </tr>
            <tr>
              <td>options.filename</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>]</code>
              </td>
              <td><p>Used in <a href="shorthandreaders-readjson"><code>shorthandReaders.readJson</code></a>. Otherwise ignored.</p>
</td>
            </tr>
      </table>
    </p>


      <h4>Returns</h4>
      <code><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code></code>
      :
      <span class='force-inline'>
        <p>the contents of the file as JSON</p>

      </span>


    <h4>Examples</h4>
<pre><span class="hljs-keyword">var</span> data = io.readDataSync(<span class="hljs-string">'path/to/data.tsv'</span>)
<span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data</span>

<span class="hljs-comment">// Parser specified as a string</span>
<span class="hljs-keyword">var</span> data = io.readDataSync(<span class="hljs-string">'path/to/data.usv'</span>, {parser: <span class="hljs-string">'_'</span>})
<span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data</span>

<span class="hljs-comment">// Parser specified as a function</span>
<span class="hljs-keyword">var</span> myParser = dsv.dsv(<span class="hljs-string">'_'</span>).parse
<span class="hljs-comment">// var myParser = dsv.dsv('_') // This also works</span>
<span class="hljs-keyword">var</span> data = io.readDataSync(<span class="hljs-string">'path/to/data.usv'</span>, {parser: myParser})
<span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data</span>

<span class="hljs-comment">// Parser as an object with a `parse` method</span>
<span class="hljs-keyword">var</span> naiveJsonLines = {
  parse: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dataAsString</span>)
    <span class="hljs-title">return</span> <span class="hljs-title">dataAsString</span>.<span class="hljs-title">split</span>(<span class="hljs-params">'\n'</span>).<span class="hljs-title">map</span>(<span class="hljs-params">function (row</span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-built_in">JSON</span>.parse(row) })
  }
}
<span class="hljs-keyword">var</span> data = io.readDataSync(<span class="hljs-string">'path/to/data.jsonlines'</span>, {parser: naiveJsonLines})
<span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data</span>

<span class="hljs-comment">// Shorthand for specifying a map function</span>
<span class="hljs-keyword">var</span> data = io.readData(<span class="hljs-string">'path/to/data.csv'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">row, i, columns</span>) </span>{
  <span class="hljs-built_in">console</span>.log(columns) <span class="hljs-comment">// [ 'name', 'occupation', 'height' ]</span>
  row.height = +row.height <span class="hljs-comment">// Convert this value to a number</span>
  <span class="hljs-keyword">return</span> row
})
<span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data</span>

<span class="hljs-comment">// Explicitly specify a map function and a filename for a json file. See `readJson` for more details</span>
<span class="hljs-keyword">var</span> data = io.readData(<span class="hljs-string">'path/to/data.json'</span>, {
  map: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">k, v</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> v === <span class="hljs-string">'number'</span>) {
      <span class="hljs-keyword">return</span> v * <span class="hljs-number">2</span>
    }
    <span class="hljs-keyword">return</span> v
  },
  filename: <span class="hljs-string">'awesome-data.json'</span>
})
<span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data with any number values multiplied by two and errors reported with `fileName`</span></pre>




</section>
      </div>
      <div class='section-indent'>
<section id='readers/readdbf'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L1344-L1409'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#readers/readdbf'>
      <code>
        readDbf<span class='gray'>(fileName, [map], callback)</span>
      </code>
    </a>
  </h3>
  <p>Asynchronously read a dbf file. Returns EOF error if file is empty.</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file</p>
</td>
          </tr>
          <tr>
            <td>map</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>]</code>
            </td>
            <td><p>Optional map function, called once for each row (header row skipped). Has signature <code>(row, i)</code>. See example below.</p>
</td>
          </tr>
          <tr>
            <td>callback</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>
            </td>
            <td><p>callback used when read data is read, takes error (if any) and the data read</p>
</td>
          </tr>
      </table>
    </p>




    <h4>Examples</h4>
<pre>io.readDbf(<span class="hljs-string">'path/to/data.dbf'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data</span>
})

io.readDbf(<span class="hljs-string">'path/to/data.dbf'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">row, i</span>) </span>{
  row.height = row.height * <span class="hljs-number">2</span>
  <span class="hljs-keyword">return</span> row
},
<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data with height value doubled</span>
})</pre>




</section>
      </div>
      <div class='section-indent'>
<section id='readers/readdirfilter'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L791-L826'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#readers/readdirfilter'>
      <code>
        readdirFilter<span class='gray'>(dirPath, options, callback)</span>
      </code>
    </a>
  </h3>
  <p>Get a list of a directory's files and folders if certain critera are met.</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>dirPath</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>The directory to read from</p>
</td>
          </tr>
          <tr>
            <td>options</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>
            </td>
            <td><p>Optional, filter options, see below</p>
</td>
          </tr>
            <tr>
              <td>options.include</td>
              <td>
                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp">RegExp</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></code><<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></code><<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp">RegExp</a></code>>
              </td>
              <td><p>If given a string, return files that have that string as their extension. If given a Regular Expression, return the file that matches the pattern. Can also take a list of both. List matching behavior is described in <code>includeAll</code>.</p>
</td>
            </tr>
            <tr>
              <td>options.exclude</td>
              <td>
                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp">RegExp</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></code><<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></code><<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp">RegExp</a></code>>
              </td>
              <td><p>If given a string, return files that do not have that string as their extension. If given a Regular Expression, return the file that matches the pattern. Can also take a list of both. List matching behavior is described in <code>excludeAll</code>.</p>
</td>
            </tr>
            <tr>
              <td>options.includeMatchAll</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></code>]</code>
                (default <code>false</code>)
              </td>
              <td><p>If true, require all include conditions to be met for a file to be included.</p>
</td>
            </tr>
            <tr>
              <td>options.excludeMatchAll</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></code>]</code>
                (default <code>false</code>)
              </td>
              <td><p>If true, require all exclude conditions to be met for a file to be excluded.</p>
</td>
            </tr>
            <tr>
              <td>options.fullPath</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></code>]</code>
                (default <code>false</code>)
              </td>
              <td><p>If <code>true</code> the full path of the file, otherwise return just the file name.</p>
</td>
            </tr>
            <tr>
              <td>options.skipFiles</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></code>]</code>
                (default <code>false</code>)
              </td>
              <td><p>If <code>true</code>, only include directories.</p>
</td>
            </tr>
            <tr>
              <td>options.skipDirectories</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></code>]</code>
                (default <code>false</code>)
              </td>
              <td><p>If <code>true</code>, only include files.</p>
</td>
            </tr>
          <tr>
            <td>callback</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>
            </td>
            <td><p>Callback fired with signature of <code>(err, files)</code> where <code>files</code> is a list of matching file names.</p>
</td>
          </tr>
      </table>
    </p>




    <h4>Examples</h4>
<pre><span class="hljs-comment">// dir contains `data-0.tsv`, `data-0.json`, `data-0.csv`, `data-1.csv`, `.hidden-file`</span>
io.readdirFilter(<span class="hljs-string">'path/to/files'</span>, {include: <span class="hljs-string">'csv'</span>}, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, files</span>)</span>{
  <span class="hljs-built_in">console</span>.log(files) <span class="hljs-comment">// ['data-0.csv', 'data-1.csv']</span>
})

io.readdirFilter(<span class="hljs-string">'path/to/files'</span>, {include: [<span class="hljs-regexp">/^data/</span>], exclude: [<span class="hljs-string">'csv'</span>, <span class="hljs-string">'json'</span>]}, , <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, files</span>)</span>{
  <span class="hljs-built_in">console</span>.log(files) <span class="hljs-comment">// ['path/to/files/data-0.csv', 'path/to/files/data-1.csv', 'path/to/files/data-0.tsv']</span>
})</pre>




</section>
      </div>
      <div class='section-indent'>
<section id='readers/readdirfiltersync'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L826-L834'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#readers/readdirfiltersync'>
      <code>
        readdirFilterSync<span class='gray'>(dirPath, [options])</span>
      </code>
    </a>
  </h3>
  <p>Synchronously get a list of a directory's files and folders if certain critera are met.</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>dirPath</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>The directory to read from</p>
</td>
          </tr>
          <tr>
            <td>options</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>]</code>
            </td>
            <td><p>Optional, filter options, see below</p>
</td>
          </tr>
            <tr>
              <td>options.include</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp">RegExp</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></code><<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></code><<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp">RegExp</a></code>>]</code>
              </td>
              <td><p>Optional, if given a string, return files that have that string as their extension. If given a Regular Expression, return the file that matches the pattern. Can also take a list of both. List matching behavior is described in <code>includeAll</code>.</p>
</td>
            </tr>
            <tr>
              <td>options.exclude</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp">RegExp</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></code><<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></code><<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp">RegExp</a></code>>]</code>
              </td>
              <td><p>Optional, if given a string, return files that do not have that string as their extension. If given a Regular Expression, return the file that matches the pattern. Can also take a list of both. List matching behavior is described in <code>excludeAll</code>.</p>
</td>
            </tr>
            <tr>
              <td>options.includeMatchAll</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></code>]</code>
                (default <code>false</code>)
              </td>
              <td><p>Optional, if true, require all include conditions to be met for a file to be included.</p>
</td>
            </tr>
            <tr>
              <td>options.excludeMatchAll</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></code>]</code>
                (default <code>false</code>)
              </td>
              <td><p>Optional, if true, require all exclude conditions to be met for a file to be excluded.</p>
</td>
            </tr>
            <tr>
              <td>options.fullPath</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></code>]</code>
                (default <code>false</code>)
              </td>
              <td><p>Optional, if <code>true</code> the full path of the file, otherwise return just the file name.</p>
</td>
            </tr>
            <tr>
              <td>options.skipFiles</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></code>]</code>
                (default <code>false</code>)
              </td>
              <td><p>Optional, if <code>true</code>, only include directories.</p>
</td>
            </tr>
            <tr>
              <td>options.skipDirectories</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></code>]</code>
                (default <code>false</code>)
              </td>
              <td><p>Optional, if <code>true</code>, only include files.</p>
</td>
            </tr>
      </table>
    </p>


      <h4>Returns</h4>
      <code><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></code><<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>></code>
      :
      <span class='force-inline'>
        <p>The matching file names</p>

      </span>


    <h4>Examples</h4>
<pre><span class="hljs-comment">// dir contains `data-0.tsv`, `data-0.json`, `data-0.csv`, `data-1.csv`, `.hidden-file`</span>
<span class="hljs-keyword">var</span> files = io.readdirFilterSync(<span class="hljs-string">'path/to/files'</span>, {include: <span class="hljs-string">'csv'</span>})
<span class="hljs-built_in">console</span>.log(files) <span class="hljs-comment">// ['data-0.csv', 'data-1.csv']</span>

<span class="hljs-keyword">var</span> files = io.readdirFilterSync(<span class="hljs-string">'path/to/files'</span>, {include: [<span class="hljs-regexp">/^data/</span>], exclude: <span class="hljs-string">'json'</span>, fullPath: <span class="hljs-literal">true</span>})
<span class="hljs-built_in">console</span>.log(files) <span class="hljs-comment">// ['path/to/files/data-0.csv', 'path/to/files/data-1.csv', 'path/to/files/data-0.tsv']</span>

<span class="hljs-keyword">var</span> files = io.readdirFilterSync(<span class="hljs-string">'path/to/files'</span>, {include: [<span class="hljs-regexp">/^data/</span>, <span class="hljs-string">'json'</span>], fullPath: <span class="hljs-literal">true</span>, includeMatchAll: <span class="hljs-literal">true</span>})
<span class="hljs-built_in">console</span>.log(files) <span class="hljs-comment">// ['path/to/files/data-0.json', 'path/to/files/data-1.json']</span></pre>




</section>
      </div>



</section>
<section id='shorthandreaders'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L834-L857'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#shorthandreaders'>
      <code>
        shorthandReaders<span class='gray'></span>
      </code>
    </a>
  </h3>
  <p>Convenience functions to load in a file with a specific type. This is equivalent to using <code>readData</code> and specifying a parser.</p>







      <div class='section-indent'>
<section id='shorthandreaders/readaml'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L1289-L1316'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#shorthandreaders/readaml'>
      <code>
        readAml<span class='gray'>(fileName, [map], callback)</span>
      </code>
    </a>
  </h3>
  <p>Asynchronously read an ArchieMl file. Returns an empty object if file is empty.</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file.</p>
</td>
          </tr>
          <tr>
            <td>map</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>]</code>
            </td>
            <td><p>Optional map function. Takes the parsed filed, return modified file. See example below.</p>
</td>
          </tr>
          <tr>
            <td>callback</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>
            </td>
            <td><p>callback used when read data is read, takes error (if any) and the data read.</p>
</td>
          </tr>
      </table>
    </p>




    <h4>Examples</h4>
<pre>io.readAml(<span class="hljs-string">'path/to/data.aml'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// json data</span>
})

<span class="hljs-comment">// With map</span>
io.readAml(<span class="hljs-string">'path/to/data.aml'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">amlFile</span>) </span>{
  amlFile.height = amlFile.height * <span class="hljs-number">2</span>
  <span class="hljs-keyword">return</span> amlFile
}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// json data with height multiplied by 2</span>
})</pre>




</section>
      </div>
      <div class='section-indent'>
<section id='shorthandreaders/readamlsync'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L1316-L1344'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#shorthandreaders/readamlsync'>
      <code>
        readAmlSync<span class='gray'>(fileName, [map])</span>
      </code>
    </a>
  </h3>
  <p>Synchronously read an ArchieML file. Returns an empty TK if file is empty.</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file</p>
</td>
          </tr>
          <tr>
            <td>map</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>]</code>
            </td>
            <td><p>Optional map function. Takes the parsed filed, return modified file. See example below.</p>
</td>
          </tr>
      </table>
    </p>


      <h4>Returns</h4>
      <code><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code></code>
      :
      <span class='force-inline'>
        <p>the contents of the file as a string</p>

      </span>


    <h4>Examples</h4>
<pre><span class="hljs-keyword">var</span> data = io.readAmlSync(<span class="hljs-string">'path/to/data.aml'</span>)
<span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// json data</span>

<span class="hljs-keyword">var</span> data = io.readAmlSync(<span class="hljs-string">'path/to/data-with-comments.aml'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">amlFile</span>) </span>{
  amlFile.height = amlFile.height * <span class="hljs-number">2</span>
  <span class="hljs-keyword">return</span> amlFile
})
<span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// json data with height multiplied by 2</span></pre>




</section>
      </div>
      <div class='section-indent'>
<section id='shorthandreaders/readcsv'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L857-L886'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#shorthandreaders/readcsv'>
      <code>
        readCsv<span class='gray'>(fileName, [map], callback)</span>
      </code>
    </a>
  </h3>
  <p>Asynchronously read a comma-separated value file. Returns an empty array if file is empty.</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file</p>
</td>
          </tr>
          <tr>
            <td>map</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>]</code>
            </td>
            <td><p>Optional map function, called once for each row (header row skipped). Has signature <code>(row, i, columns)</code>. See example below or d3-dsv documentation for details.</p>
</td>
          </tr>
          <tr>
            <td>callback</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>
            </td>
            <td><p>callback used when read data is read, takes error (if any) and the data read</p>
</td>
          </tr>
      </table>
    </p>




    <h4>Examples</h4>
<pre>io.readCsv(<span class="hljs-string">'path/to/data.csv'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data</span>
})

<span class="hljs-comment">// Transform values on load</span>
io.readCsv(<span class="hljs-string">'path/to/data.csv'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">row, i, columns</span>) </span>{
  <span class="hljs-built_in">console</span>.log(columns) <span class="hljs-comment">// [ 'name', 'occupation', 'height' ]</span>
  row.height = +row.height <span class="hljs-comment">// Convert this value to a number</span>
  <span class="hljs-keyword">return</span> row
}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Converted json data</span>
})</pre>




</section>
      </div>
      <div class='section-indent'>
<section id='shorthandreaders/readcsvsync'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L886-L960'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#shorthandreaders/readcsvsync'>
      <code>
        readCsvSync<span class='gray'>(fileName, [map])</span>
      </code>
    </a>
  </h3>
  <p>Synchronously read a comma-separated value file. Returns an empty array if file is empty.</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file</p>
</td>
          </tr>
          <tr>
            <td>map</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>]</code>
            </td>
            <td><p>Optional map function, called once for each row (header row skipped). Has signature <code>(row, i, columns)</code>. See example below or d3-dsv documentation for details.</p>
</td>
          </tr>
      </table>
    </p>


      <h4>Returns</h4>
      <code><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></code></code>
      :
      <span class='force-inline'>
        <p>the contents of the file as JSON</p>

      </span>


    <h4>Examples</h4>
<pre><span class="hljs-keyword">var</span> data = io.readCsvSync(<span class="hljs-string">'path/to/data.csv'</span>)
<span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data</span>

<span class="hljs-comment">// Transform values on load</span>
<span class="hljs-keyword">var</span> data = io.readCsvSync(<span class="hljs-string">'path/to/data.csv'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">row, i, columns</span>) </span>{
  <span class="hljs-built_in">console</span>.log(columns) <span class="hljs-comment">// [ 'name', 'occupation', 'height' ]</span>
  row.height = +row.height <span class="hljs-comment">// Convert this value to a number</span>
  <span class="hljs-keyword">return</span> row
})
<span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data with casted values</span></pre>




</section>
      </div>
      <div class='section-indent'>
<section id='shorthandreaders/readjson'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L960-L1011'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#shorthandreaders/readjson'>
      <code>
        readJson<span class='gray'>(fileName, [parserOptions], callback)</span>
      </code>
    </a>
  </h3>
  <p>Asynchronously read a JSON file. Returns an empty array if file is empty.</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file</p>
</td>
          </tr>
          <tr>
            <td>parserOptions</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>]</code>
            </td>
            <td><p>Can be a map function, a filename string that's display as an error message or an object specifying both and other options.</p>
</td>
          </tr>
            <tr>
              <td>parserOptions.map</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>]</code>
              </td>
              <td><p>Optional map function, called once for each row (header row skipped). If your file is an array (tests if first non-whitespace character is a <code>[</code>), has signature <code>(row, i)</code>, delegates to <code>_.map</code>. If file is an object has signature <code>(value, key)</code>, delegates to <code>_.mapObject</code>. See example below.</p>
</td>
            </tr>
            <tr>
              <td>parserOptions.nativeParser</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></code>]</code>
              </td>
              <td><p>Use native JSON parser instead of parse-json library for better performance but not as good error messaging. This can be nice to turn on for produciton use.</p>
</td>
            </tr>
            <tr>
              <td>parserOptions.filename</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>]</code>
              </td>
              <td><p>Filename displayed in the error message.</p>
</td>
            </tr>
            <tr>
              <td>parserOptions.reviver</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>]</code>
              </td>
              <td><p>Prescribes how the value originally produced by parsing is mapped, before being returned. See JSON.parse docs for more: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse#Using_the_reviver_parameter</p>
</td>
            </tr>
          <tr>
            <td>callback</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>
            </td>
            <td><p>Function invoked after data is read, takes error (if any) and the data read</p>
</td>
          </tr>
      </table>
    </p>




    <h4>Examples</h4>
<pre>io.readJson(<span class="hljs-string">'path/to/data.json'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data</span>
})

<span class="hljs-comment">// Specify a map</span>
io.readJson(<span class="hljs-string">'path/to/data.json'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">row, i</span>) </span>{
  row.height = row.height * <span class="hljs-number">2</span>
  <span class="hljs-keyword">return</span> row
}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data with height multiplied by two</span>
})

<span class="hljs-comment">// Specify a filename</span>
io.readJson(<span class="hljs-string">'path/to/data.json'</span>, <span class="hljs-string">'awesome-data.json'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data, any errors are reported with `fileName`.</span>
})

<span class="hljs-comment">// Specify a map and a filename</span>
io.readJson(<span class="hljs-string">'path/to/data.json'</span>, {
  map: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">row, i</span>) </span>{
    row.height = row.height * <span class="hljs-number">2</span>
    <span class="hljs-keyword">return</span> row
  },
  filename: <span class="hljs-string">'awesome-data.json'</span>
}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data with any number values multiplied by two and errors reported with `fileName`</span>
})

<span class="hljs-comment">// Specify a map and a filename on json object</span>
io.readJson(<span class="hljs-string">'path/to/json-object.json'</span>, {
  map: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value, key</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">'number'</span>) {
      <span class="hljs-keyword">return</span> value * <span class="hljs-number">2</span>
    }
    <span class="hljs-keyword">return</span> value
  },
  filename: <span class="hljs-string">'awesome-data.json'</span>
}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data with any number values multiplied by two and errors reported with `fileName`</span>
})

<span class="hljs-comment">// Specify a reviver function and a filename</span>
io.readJson(<span class="hljs-string">'path/to/data.json'</span>, {
  reviver: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">k, v</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> v === <span class="hljs-string">'number'</span>) {
      <span class="hljs-keyword">return</span> v * <span class="hljs-number">2</span>
    }
    <span class="hljs-keyword">return</span> v
  },
  filename: <span class="hljs-string">'awesome-data.json'</span>
}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data with any number values multiplied by two and errors reported with `fileName`</span>
})</pre>




</section>
      </div>
      <div class='section-indent'>
<section id='shorthandreaders/readjsonsync'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L1011-L1040'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#shorthandreaders/readjsonsync'>
      <code>
        readJsonSync<span class='gray'>(fileName, [parserOptions])</span>
      </code>
    </a>
  </h3>
  <p>Synchronously read a JSON file. Returns an empty array if file is empty.</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file</p>
</td>
          </tr>
          <tr>
            <td>parserOptions</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>]</code>
            </td>
            <td><p>Can be a map function, a filename string that's display as an error message or an object specifying both and other options.</p>
</td>
          </tr>
            <tr>
              <td>parserOptions.map</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>]</code>
              </td>
              <td><p>Optional map function, called once for each row (header row skipped). If your file is an array (tests if first non-whitespace character is a <code>[</code>), has signature <code>(row, i)</code>, delegates to <code>_.map</code>. If file is an object has signature <code>(value, key)</code>, delegates to <code>_.mapObject</code>. See example below.</p>
</td>
            </tr>
            <tr>
              <td>parserOptions.nativeParser</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></code>]</code>
              </td>
              <td><p>Use native JSON parser instead of parse-json library for better performance but not as good error messaging. This can be nice to turn on for produciton use.</p>
</td>
            </tr>
            <tr>
              <td>parserOptions.filename</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>]</code>
              </td>
              <td><p>Filename displayed in the error message.</p>
</td>
            </tr>
            <tr>
              <td>parserOptions.reviver</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>]</code>
              </td>
              <td><p>Prescribes how the value originally produced by parsing is mapped, before being returned. See JSON.parse docs for more: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse#Using_the_reviver_parameter</p>
</td>
            </tr>
      </table>
    </p>


      <h4>Returns</h4>
      <code><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></code></code>
      :
      <span class='force-inline'>
        <p>the contents of the file as JSON</p>

      </span>


    <h4>Examples</h4>
<pre><span class="hljs-keyword">var</span> data = io.readJsonSync(<span class="hljs-string">'path/to/data.json'</span>)
<span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data</span>

<span class="hljs-comment">// Specify a map</span>
<span class="hljs-keyword">var</span> data = io.readJson(<span class="hljs-string">'path/to/data.json'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">k, v</span>) </span>{
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> v === <span class="hljs-string">'number'</span>) {
    <span class="hljs-keyword">return</span> v * <span class="hljs-number">2</span>
  }
  <span class="hljs-keyword">return</span> v
})
<span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data with any number values multiplied by two</span>

<span class="hljs-comment">// Specify a filename</span>
<span class="hljs-keyword">var</span> data = io.readJson(<span class="hljs-string">'path/to/data.json'</span>, <span class="hljs-string">'awesome-data.json'</span>)
<span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data, any errors are reported with `fileName`.</span>

<span class="hljs-comment">// Specify a map and a filename</span>
<span class="hljs-keyword">var</span> data = io.readJsonSync(<span class="hljs-string">'path/to/data.json'</span>, {
  map: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">k, v</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> v === <span class="hljs-string">'number'</span>) {
      <span class="hljs-keyword">return</span> v * <span class="hljs-number">2</span>
    }
    <span class="hljs-keyword">return</span> v
  },
  filename: <span class="hljs-string">'awesome-data.json'</span>
})

<span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data with any number values multiplied by two and errors reported with `fileName`</span></pre>




</section>
      </div>
      <div class='section-indent'>
<section id='shorthandreaders/readpsv'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L1098-L1126'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#shorthandreaders/readpsv'>
      <code>
        readPsv<span class='gray'>(fileName, [map], callback)</span>
      </code>
    </a>
  </h3>
  <p>Asynchronously read a pipe-separated value file. Returns an empty array if file is empty.</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file</p>
</td>
          </tr>
          <tr>
            <td>map</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>]</code>
            </td>
            <td><p>Optional map function, called once for each row (header row skipped). Has signature <code>(row, i, columns)</code>. See example below or d3-dsv documentation for details.</p>
</td>
          </tr>
          <tr>
            <td>callback</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>
            </td>
            <td><p>callback used when read data is read, takes error (if any) and the data read</p>
</td>
          </tr>
      </table>
    </p>




    <h4>Examples</h4>
<pre>io.readPsv(<span class="hljs-string">'path/to/data.psv'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data</span>
})

<span class="hljs-comment">// Transform values on load</span>
io.readPsv(<span class="hljs-string">'path/to/data.psv'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">row, i, columns</span>) </span>{
    <span class="hljs-built_in">console</span>.log(columns) <span class="hljs-comment">// [ 'name', 'occupation', 'height' ]</span>
    row.height = +row.height <span class="hljs-comment">// Convert this value to a number</span>
    <span class="hljs-keyword">return</span> row
}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data with casted values</span>
})</pre>




</section>
      </div>
      <div class='section-indent'>
<section id='shorthandreaders/readpsvsync'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L1126-L1152'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#shorthandreaders/readpsvsync'>
      <code>
        readPsvSync<span class='gray'>(fileName, [map])</span>
      </code>
    </a>
  </h3>
  <p>Synchronously read a pipe-separated value file. Returns an empty array if file is empty.</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file</p>
</td>
          </tr>
          <tr>
            <td>map</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>]</code>
            </td>
            <td><p>Optional map function, called once for each row (header row skipped). Has signature <code>(row, i, columns)</code>. See example below or d3-dsv documentation for details.</p>
</td>
          </tr>
      </table>
    </p>


      <h4>Returns</h4>
      <code><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></code></code>
      :
      <span class='force-inline'>
        <p>the contents of the file as JSON</p>

      </span>


    <h4>Examples</h4>
<pre><span class="hljs-keyword">var</span> data = io.readPsvSync(<span class="hljs-string">'path/to/data.psv'</span>)
<span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data</span>

<span class="hljs-keyword">var</span> data = io.readPsvSync(<span class="hljs-string">'path/to/data.psv'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">row, i, columns</span>) </span>{
  <span class="hljs-built_in">console</span>.log(columns) <span class="hljs-comment">// [ 'name', 'occupation', 'height' ]</span>
  row.height = +row.height <span class="hljs-comment">// Convert this value to a number</span>
  <span class="hljs-keyword">return</span> row
})
<span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data with casted values</span></pre>




</section>
      </div>
      <div class='section-indent'>
<section id='shorthandreaders/readtsv'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L1040-L1069'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#shorthandreaders/readtsv'>
      <code>
        readTsv<span class='gray'>(fileName, [map], callback)</span>
      </code>
    </a>
  </h3>
  <p>Asynchronously read a tab-separated value file. Returns an empty array if file is empty.</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file</p>
</td>
          </tr>
          <tr>
            <td>map</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>]</code>
            </td>
            <td><p>Optional map function, called once for each row (header row skipped). Has signature <code>(row, i, columns)</code>. See example below or d3-dsv documentation for details.</p>
</td>
          </tr>
          <tr>
            <td>callback</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>
            </td>
            <td><p>callback used when read data is read, takes error (if any) and the data read</p>
</td>
          </tr>
      </table>
    </p>




    <h4>Examples</h4>
<pre>io.readTsv(<span class="hljs-string">'path/to/data.tsv'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data</span>
})

<span class="hljs-comment">// Transform values on load</span>
io.readTsv(<span class="hljs-string">'path/to/data.tsv'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">row, i, columns</span>) </span>{
    <span class="hljs-built_in">console</span>.log(columns) <span class="hljs-comment">// [ 'name', 'occupation', 'height' ]</span>
    row.height = +row.height <span class="hljs-comment">// Convert this value to a number</span>
    <span class="hljs-keyword">return</span> row
}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data with casted values</span>
})</pre>




</section>
      </div>
      <div class='section-indent'>
<section id='shorthandreaders/readtsvsync'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L1069-L1098'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#shorthandreaders/readtsvsync'>
      <code>
        readTsvSync<span class='gray'>(fileName, [map])</span>
      </code>
    </a>
  </h3>
  <p>Synchronously read a tab-separated value file. Returns an empty array if file is empty.</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file</p>
</td>
          </tr>
          <tr>
            <td>map</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>]</code>
            </td>
            <td><p>Optional map function, called once for each row (header row skipped). Has signature <code>(row, i, columns)</code>. See example below or d3-dsv documentation for details.</p>
</td>
          </tr>
      </table>
    </p>


      <h4>Returns</h4>
      <code><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></code></code>
      :
      <span class='force-inline'>
        <p>the contents of the file as JSON</p>

      </span>


    <h4>Examples</h4>
<pre><span class="hljs-keyword">var</span> data = io.readTsvSync(<span class="hljs-string">'path/to/data.tsv'</span>)
<span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data</span>

<span class="hljs-comment">// Transform values on load</span>
<span class="hljs-keyword">var</span> data = io.readTsvSync(<span class="hljs-string">'path/to/data.tsv'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">row, i, columns</span>) </span>{
  <span class="hljs-built_in">console</span>.log(columns) <span class="hljs-comment">// [ 'name', 'occupation', 'height' ]</span>
  row.height = +row.height <span class="hljs-comment">// Convert this value to a number</span>
  <span class="hljs-keyword">return</span> row
})
<span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// Json data with casted values</span></pre>




</section>
      </div>
      <div class='section-indent'>
<section id='shorthandreaders/readtxt'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L1152-L1178'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#shorthandreaders/readtxt'>
      <code>
        readTxt<span class='gray'>(fileName, [map], callback)</span>
      </code>
    </a>
  </h3>
  <p>Asynchronously read a text file. Returns an empty string if file is empty.</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file</p>
</td>
          </tr>
          <tr>
            <td>map</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>]</code>
            </td>
            <td><p>Optional map function, take the file and returns any mapped value</p>
</td>
          </tr>
          <tr>
            <td>callback</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>
            </td>
            <td><p>callback used when read data is read, takes error (if any) and the data read</p>
</td>
          </tr>
      </table>
    </p>




    <h4>Examples</h4>
<pre>io.readTxt(<span class="hljs-string">'path/to/data.txt'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// string data</span>
})

io.readTxt(<span class="hljs-string">'path/to/data.txt'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">str</span>) </span>{
  <span class="hljs-keyword">return</span> str.replace(<span class="hljs-regexp">/hello/g</span>, <span class="hljs-string">'goodbye'</span>) <span class="hljs-comment">// Replace all instances of `"hello"` with `"goodbye"`</span>
}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// string data with values replaced</span>
})</pre>




</section>
      </div>
      <div class='section-indent'>
<section id='shorthandreaders/readtxtsync'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L1178-L1220'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#shorthandreaders/readtxtsync'>
      <code>
        readTxtSync<span class='gray'>(fileName, [map])</span>
      </code>
    </a>
  </h3>
  <p>Synchronously read a text file. Returns an empty string if file is empty.</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file</p>
</td>
          </tr>
          <tr>
            <td>map</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>]</code>
            </td>
            <td><p>Optional map function, called once for each row (header row skipped). Has signature <code>(row, i, columns)</code>. See example below or d3-dsv documentation for details.</p>
</td>
          </tr>
      </table>
    </p>


      <h4>Returns</h4>
      <code><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></code></code>
      :
      <span class='force-inline'>
        <p>the contents of the file as a string</p>

      </span>


    <h4>Examples</h4>
<pre><span class="hljs-keyword">var</span> data = io.readTxtSync(<span class="hljs-string">'path/to/data.txt'</span>)
<span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// string data</span>

<span class="hljs-keyword">var</span> data = io.readTxtSync(<span class="hljs-string">'path/to/data.txt'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">str</span>) </span>{
  <span class="hljs-keyword">return</span> str.replace(<span class="hljs-regexp">/hello/g</span>, <span class="hljs-string">'goodbye'</span>) <span class="hljs-comment">// Replace all instances of `"hello"` with `"goodbye"`</span>
})
<span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// string data with values replaced</span></pre>




</section>
      </div>
      <div class='section-indent'>
<section id='shorthandreaders/readyaml'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L1220-L1261'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#shorthandreaders/readyaml'>
      <code>
        readYaml<span class='gray'>(fileName, [parserOptions], callback)</span>
      </code>
    </a>
  </h3>
  <p>Asynchronously read a yaml file. Returns an empty object if file is empty. <code>parseOptions</code> will pass any other optinos directl to js-yaml library. See its documentation for more detail https://github.com/nodeca/js-yaml</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file</p>
</td>
          </tr>
          <tr>
            <td>parserOptions</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>]</code>
            </td>
            <td><p>Can be a map function or an object specifying that or other options.</p>
</td>
          </tr>
            <tr>
              <td>parserOptions.map</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>]</code>
              </td>
              <td><p>Optional map function. Takes the parsed filed, return modified file. See example below.</p>
</td>
            </tr>
            <tr>
              <td>parserOptions.loadMethod</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>]</code>
                (default <code>&quot;safeLoad&quot;</code>)
              </td>
              <td><p>The js-yaml library allows you to specify a more liberal <code>load</code> method which will accept regex and function values.</p>
</td>
            </tr>
          <tr>
            <td>callback</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>
            </td>
            <td><p>callback used when read data is read, takes error (if any) and the data read</p>
</td>
          </tr>
      </table>
    </p>




    <h4>Examples</h4>
<pre><span class="hljs-comment">// Can be `.yaml` or `.yml` extension</span>
io.readYaml(<span class="hljs-string">'path/to/data.yaml'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// json data</span>
})

<span class="hljs-comment">// With map function shorthand on an object</span>
io.readYaml(<span class="hljs-string">'path/to/data.yaml'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">yamlFile</span>) </span>{
  yamlFile.height = yamlFile.height * <span class="hljs-number">2</span>
  <span class="hljs-keyword">return</span> yamlFile
}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// json data with `height` values doubled</span>
})

<span class="hljs-comment">// With map function on an object and load settings</span>
io.readYaml(<span class="hljs-string">'path/to/data.yaml'</span>, {
  loadMethod: <span class="hljs-string">'load'</span>,
  map: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value, key</span>) </span>{
    yamlFile.height = yamlFile.height * <span class="hljs-number">2</span>
    <span class="hljs-keyword">return</span> yamlFile
  }
}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) </span>{
  <span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// json data with `height` values doubled</span>
})</pre>




</section>
      </div>
      <div class='section-indent'>
<section id='shorthandreaders/readyamlsync'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L1261-L1289'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#shorthandreaders/readyamlsync'>
      <code>
        readYamlSync<span class='gray'>(fileName, [parserOptions])</span>
      </code>
    </a>
  </h3>
  <p>Synchronously read a yaml file. Returns an empty object if file is empty. <code>parseOptions</code> will pass any other optinos directl to js-yaml library. See its documentation for more detail https://github.com/nodeca/js-yaml</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file</p>
</td>
          </tr>
          <tr>
            <td>parserOptions</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>]</code>
            </td>
            <td><p>Can be a map function or an object specifying that or other options.</p>
</td>
          </tr>
            <tr>
              <td>parserOptions.map</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>]</code>
              </td>
              <td><p>Optional map function. Takes the parsed filed, return modified file. See example below.</p>
</td>
            </tr>
            <tr>
              <td>parserOptions.loadMethod</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>]</code>
                (default <code>&quot;safeLoad&quot;</code>)
              </td>
              <td><p>The js-yaml library allows you to specify a more liberal <code>load</code> method which will accept regex and function values.</p>
</td>
            </tr>
      </table>
    </p>


      <h4>Returns</h4>
      <code><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></code></code>
      :
      <span class='force-inline'>
        <p>the contents of the file as a string</p>

      </span>


    <h4>Examples</h4>
<pre><span class="hljs-comment">// Can be `.yaml` or `.yml` extension</span>
<span class="hljs-keyword">var</span> data = io.readYamlSync(<span class="hljs-string">'path/to/data.yaml'</span>)
<span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// json data</span>

<span class="hljs-comment">// With map function</span>
<span class="hljs-keyword">var</span> data = io.readYaml(<span class="hljs-string">'path/to/data.yaml'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">yamlFile</span>) </span>{
  yamlFile.height = yamlFile.height * <span class="hljs-number">2</span>
  <span class="hljs-keyword">return</span> yamlFile
})
<span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// json data with `height` values doubled</span>

<span class="hljs-comment">// With map function and load settings</span>
<span class="hljs-keyword">var</span> data = io.readYaml(<span class="hljs-string">'path/to/data.yaml'</span>, {
  loadMethod: <span class="hljs-string">'load'</span>,
  map: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">yamlFile</span>) </span>{
    yamlFile.height = yamlFile.height * <span class="hljs-number">2</span>
    <span class="hljs-keyword">return</span> yamlFile
  }
})
<span class="hljs-built_in">console</span>.log(data) <span class="hljs-comment">// json data with `height` values doubled</span></pre>




</section>
      </div>



</section>
<section id='writers'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L1529-L1590'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#writers'>
      <code>
        writers<span class='gray'></span>
      </code>
    </a>
  </h3>
  <p>Functions to write data files.</p>







      <div class='section-indent'>
<section id='writers/appenddata'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L1710-L1761'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#writers/appenddata'>
      <code>
        appendData<span class='gray'>(fileName, data, [options], callback)</span>
      </code>
    </a>
  </h3>
  <p>Append to an existing data object, creating a new file if one does not exist. If appending to an object, data is extended with <code>_.extend</code>. For tabular formats (csv, tsv, etc), existing data and new data must be an array of flat objects (cannot contain nested objects or arrays).</p>
<p>Supported formats:</p>
<ul>
<li><code>.json</code> Array of objects</li>
<li><code>.csv</code> Comma-separated</li>
<li><code>.tsv</code> Tab-separated</li>
<li><code>.psv</code> Pipe-separated</li>
<li><code>.yaml</code> or <code>.yml</code> Yaml</li>
</ul>
<p><em>Note: Does not currently support .dbf files.</em></p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file</p>
</td>
          </tr>
          <tr>
            <td>data</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>
            </td>
            <td><p>the data to write</p>
</td>
          </tr>
          <tr>
            <td>options</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>]</code>
            </td>
            <td><p>Optional config object, see below</p>
</td>
          </tr>
            <tr>
              <td>options.makeDirectories</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></code>]</code>
                (default <code>false</code>)
              </td>
              <td><p>If true, create intermediate directories to your data file.</p>
</td>
            </tr>
          <tr>
            <td>callback</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>
            </td>
            <td><p>callback of <code>(err, data)</code> where <code>err</code> is any error and <code>data</code> is the data that was written out</p>
</td>
          </tr>
      </table>
    </p>




    <h4>Examples</h4>
<pre>io.appendData(<span class="hljs-string">'path/to/data.json'</span>, jsonData, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>{
  <span class="hljs-built_in">console</span>.log(err)
})

io.appendData(<span class="hljs-string">'path/to/create/to/data.csv'</span>, flatJsonData, {makeDirectories: <span class="hljs-literal">true</span>}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>)</span>{
  <span class="hljs-built_in">console</span>.log(err)
})</pre>




</section>
      </div>
      <div class='section-indent'>
<section id='writers/appenddatasync'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L1761-L1783'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#writers/appenddatasync'>
      <code>
        appendDataSync<span class='gray'>(fileName, [options], data)</span>
      </code>
    </a>
  </h3>
  <p>Synchronous version of <a href="writers-appenddata"><code>writers#appendData</code></a>. See that function for supported formats</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file</p>
</td>
          </tr>
          <tr>
            <td>options</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>]</code>
            </td>
            <td><p>Optional config object, see below</p>
</td>
          </tr>
            <tr>
              <td>options.makeDirectories</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></code>]</code>
                (default <code>false</code>)
              </td>
              <td><p>If true, create intermediate directories to your data file.</p>
</td>
            </tr>
          <tr>
            <td>data</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>
            </td>
            <td><p>the data to write</p>
</td>
          </tr>
      </table>
    </p>


      <h4>Returns</h4>
      <code><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code></code>
      :
      <span class='force-inline'>
        <p>the data that was written</p>

      </span>


    <h4>Examples</h4>
<pre>io.appendDataSync(<span class="hljs-string">'path/to/data.json'</span>, jsonData)

io.appendDataSync(<span class="hljs-string">'path/to/create/to/data.csv'</span>, flatJsonData, {makeDirectories: <span class="hljs-literal">true</span>})</pre>




</section>
      </div>
      <div class='section-indent'>
<section id='writers/writedata'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L1590-L1664'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#writers/writedata'>
      <code>
        writeData<span class='gray'>(fileName, data, [options], callback)</span>
      </code>
    </a>
  </h3>
  <p>Write the data object, inferring the file format from the file ending specified in <code>fileName</code>.</p>
<p>Supported formats:</p>
<ul>
<li><code>.json</code> Array of objects, also supports <code>.geojson</code> and <code>.topojson</code></li>
<li><code>.csv</code> Comma-separated</li>
<li><code>.tsv</code> Tab-separated</li>
<li><code>.psv</code> Pipe-separated</li>
<li><code>.yaml</code> Yaml file, also supports <code>.yml</code></li>
<li><code>.dbf</code> Database file, commonly used in ESRI-shapefile format.</li>
</ul>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file</p>
</td>
          </tr>
          <tr>
            <td>data</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>
            </td>
            <td><p>the data to write</p>
</td>
          </tr>
          <tr>
            <td>options</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>]</code>
            </td>
            <td><p>Optional config object, see below</p>
</td>
          </tr>
            <tr>
              <td>options.makeDirectories</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></code>]</code>
                (default <code>false</code>)
              </td>
              <td><p>If true, create intermediate directories to your data file.</p>
</td>
            </tr>
            <tr>
              <td>options.replacer</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></code>]</code>
              </td>
              <td><p>Used for JSON formats. Filter your objects before writing. Examples below. See JSON.stringify docs for more info https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify</p>
</td>
            </tr>
            <tr>
              <td>options.indent</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a></code>]</code>
              </td>
              <td><p>Used for JSON and YAML formats. Specifies indent level. Default for YAML is <code>2</code>, <code>0</code> for JSON.</p>
</td>
            </tr>
            <tr>
              <td>options.writeMethod</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>]</code>
                (default <code>&#x27;safeDump&#x27;</code>)
              </td>
              <td><p>Used for YAML formats. Can also be <code>&quot;dump&quot;</code> to allow writing of RegExes and functions. The <code>options</code> object will also pass anything onto <code>js-yaml</code>. See its docs for other options. Example shown below with <code>sortKeys</code>. https://github.com/nodeca/js-yaml#safedump-object---options-</p>
</td>
            </tr>
            <tr>
              <td>options.columns</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></code>]</code>
              </td>
              <td><p>Used for tabular formats. Optionally specify a list of column names to use. Otherwise they are detected from the data. See <code>d3-dsv</code> for more detail: https://github.com/d3/d3-dsv/blob/master/README.md#dsv_format</p>
</td>
            </tr>
          <tr>
            <td>callback</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code>
            </td>
            <td><p>callback of <code>(err, dataString)</code> where <code>err</code> is any error and <code>dataString</code> is the data that was written out as a string</p>
</td>
          </tr>
      </table>
    </p>




    <h4>Examples</h4>
<pre>io.writeData(<span class="hljs-string">'path/to/data.json'</span>, jsonData, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, dataString</span>) </span>{
  <span class="hljs-built_in">console</span>.log(err)
})

io.writeData(<span class="hljs-string">'path/to/create/to/data.csv'</span>, flatJsonData, {makeDirectories: <span class="hljs-literal">true</span>}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, dataString</span>) </span>{
  <span class="hljs-built_in">console</span>.log(err)
})

io.writeData(<span class="hljs-string">'path/to/to/data.yaml'</span>, jsonData, {writeMehod: <span class="hljs-string">"dump"</span>, sortKeys: <span class="hljs-literal">true</span>}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, dataString</span>) </span>{
  <span class="hljs-built_in">console</span>.log(err)
})

io.writeData(<span class="hljs-string">'path/to/to/data.json'</span>, jsonData, {indent: <span class="hljs-number">4</span>}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, dataString</span>) </span>{
  <span class="hljs-built_in">console</span>.log(err)
})

io.writeData(<span class="hljs-string">'path/to/to/data.json'</span>, jsonData, {
  indent: <span class="hljs-number">4</span>,
  replacer: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key, value</span>) </span>{
    <span class="hljs-comment">// Filtering out string properties</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">"string"</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>
    }
    <span class="hljs-keyword">return</span> value
  }
}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, dataString</span>) </span>{
  <span class="hljs-built_in">console</span>.log(err)
})

io.writeData(<span class="hljs-string">'path/to/to/data.json'</span>, jsonData, {
  indent: <span class="hljs-number">4</span>,
  replacer: [<span class="hljs-string">'name'</span>, <span class="hljs-string">'occupation'</span>] <span class="hljs-comment">// Only keep "name" and "occupation" values</span>
}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, dataString</span>) </span>{
  <span class="hljs-built_in">console</span>.log(err)
})</pre>




</section>
      </div>
      <div class='section-indent'>
<section id='writers/writedatasync'class='mt4 mb4 px2'>
    <div class='right py2'>
      <a class='fade font-smaller' href='https://github.com/mhkeller/indian-ocean/blob/4c344989e6d51507f05d3b477a3878255cbe681a/lib/index.js#L1664-L1710'><code>lib/index.js</code></a>
    </div>
  <h3 class='regular'>
    <a class='black' href='#writers/writedatasync'>
      <code>
        writeDataSync<span class='gray'>(fileName, [options], data)</span>
      </code>
    </a>
  </h3>
  <p>Syncronous version of <a href="writers-writedata"><code>writers#writeData</code></a></p>
<p>Supports the same formats with the exception of <code>.dbf</code> files</p>


    <p>
      <table class='table-light overflow-hidden bg-cloudy-light'>
        <thead>
          <th class='col-3'>parameter</th>
          <th class='col-3'>type</th>
          <th class='col-6'>description</th>
        </thead>
          <tr>
            <td>fileName</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>
            </td>
            <td><p>the name of the file</p>
</td>
          </tr>
          <tr>
            <td>options</td>
            <td>
              <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>]</code>
            </td>
            <td><p>Optional config object, see below</p>
</td>
          </tr>
            <tr>
              <td>options.makeDirectories</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></code>]</code>
                (default <code>false</code>)
              </td>
              <td><p>If true, create intermediate directories to your data file.</p>
</td>
            </tr>
            <tr>
              <td>options.replacer</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></code>]</code>
              </td>
              <td><p>Used for JSON formats. Filter your objects before writing. Examples below. See JSON.stringify docs for more info https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify</p>
</td>
            </tr>
            <tr>
              <td>options.indent</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a></code>]</code>
              </td>
              <td><p>Used for JSON and YAML formats. Specifies indent level. Default for YAML is <code>2</code>, <code>0</code> for JSON.</p>
</td>
            </tr>
            <tr>
              <td>options.writeMethod</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>]</code>
                (default <code>&#x27;safeDump&#x27;</code>)
              </td>
              <td><p>Used for YAML formats. Can also be <code>&quot;dump&quot;</code> to allow writing of RegExes and functions. The <code>options</code> object will also pass anything onto <code>js-yaml</code>. See its docs for other options. Example shown below with <code>sortKeys</code>. https://github.com/nodeca/js-yaml#safedump-object---options-</p>
</td>
            </tr>
            <tr>
              <td>options.columns</td>
              <td>
                <code>[<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></code>]</code>
              </td>
              <td><p>Used for tabular formats. Optionally specify a list of column names to use. Otherwise they are detected from the data. See <code>d3-dsv</code> for more detail: https://github.com/d3/d3-dsv/blob/master/README.md#dsv_format</p>
</td>
            </tr>
          <tr>
            <td>data</td>
            <td>
              <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>
            </td>
            <td><p>the data to write</p>
</td>
          </tr>
      </table>
    </p>


      <h4>Returns</h4>
      <code><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code></code>
      :
      <span class='force-inline'>
        <p>the data string that was written</p>

      </span>


    <h4>Examples</h4>
<pre>io.writeDataSync(<span class="hljs-string">'path/to/data.json'</span>, jsonData)

io.writeDataSync(<span class="hljs-string">'path/to/create/to/data.csv'</span>, flatJsonData, {makeDirectories: <span class="hljs-literal">true</span>})

io.writeDataSync(<span class="hljs-string">'path/to/to/data.yaml'</span>, jsonData, {writeMehod: <span class="hljs-string">"dump"</span>, sortKeys: <span class="hljs-literal">true</span>})

io.writeDataSync(<span class="hljs-string">'path/to/to/data.json'</span>, jsonData, {indent: <span class="hljs-number">4</span>})

io.writeDataSync(<span class="hljs-string">'path/to/to/data.json'</span>, jsonData, {
  indent: <span class="hljs-number">4</span>,
  replacer: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key, value</span>) </span>{
    <span class="hljs-comment">// Filtering out string properties</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">"string"</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>
    }
    <span class="hljs-keyword">return</span> value
  }
})

io.writeDataSync(<span class="hljs-string">'path/to/to/data.json'</span>, jsonData, {
  indent: <span class="hljs-number">4</span>,
  replacer: [<span class="hljs-string">'name'</span>, <span class="hljs-string">'occupation'</span>] <span class="hljs-comment">// Only keep "name" and "occupation" values</span>
})</pre>




</section>
      </div>



</section>

          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
